{"ast":null,"code":"import { CREATE_JOURNAL, GET_JOURNAL, GET_JOURNALS, DELETE_JOURNAL, UPDATE_JOURNAL, SIGN_IN, SIGN_OUT, TOGGLE_DARKMODE, GET_SETTINGS, SAVE_SETTINGS } from './types';\nimport history from '../history';\nimport journals from '@apis/journals';\nimport axios from 'axios';\nexport const signIn = userInformation => async dispatch => {\n  try {\n    const result = await axios.get('https://oauth2.googleapis.com/tokeninfo?id_token=XYZ123');\n    console.log(result);\n  } catch (err) {\n    console.log(err);\n  }\n\n  dispatch({\n    type: SIGN_IN,\n    payload: userInformation\n  });\n};\nexport const signOut = () => {\n  return {\n    type: SIGN_OUT\n  };\n};\nexport const createJournal = formInput => async (dispatch, getState) => {\n  const userId = getState().user.googleId;\n  const date = new Date().toLocaleString();\n  const {\n    data\n  } = await journals.post('/journals', { ...formInput,\n    userId,\n    date,\n    entries: []\n  });\n  dispatch({\n    type: CREATE_JOURNAL,\n    payload: data\n  });\n  history.push('/');\n};\nexport const getJournals = () => async dispatch => {\n  const {\n    data\n  } = await journals.get('/journals');\n  console.log(data);\n  dispatch({\n    type: GET_JOURNALS,\n    payload: data\n  });\n};\nexport const getJournal = journalId => async dispatch => {\n  const {\n    data\n  } = await journals.get(`/journals/${journalId}`);\n  dispatch({\n    type: GET_JOURNAL,\n    payload: data\n  });\n};\nexport const deleteJournal = journalId => async dispatch => {\n  await journals.delete(`/journals/${journalId}`);\n  dispatch({\n    type: DELETE_JOURNAL,\n    payload: journalId\n  });\n  history.push('/');\n};\nexport const updateJournal = (journalId, journal) => async dispatch => {\n  console.log('values', journal);\n  const {\n    data\n  } = await journals.patch(`/journals/${journalId}`, journal);\n  console.log('data: ', data);\n  dispatch({\n    type: UPDATE_JOURNAL,\n    payload: data.value\n  });\n  history.push(`/journals/${journalId}`);\n};\nexport const toggleDarkMode = mode => {\n  return {\n    type: TOGGLE_DARKMODE,\n    payload: mode\n  };\n};\nexport const getSettings = () => async (dispatch, getState) => {// const userId = getState().user.googleId;\n  // const { data } = await journals.get(`/settings/${userId}`);\n  // dispatch({ type: GET_SETTINGS, payload: data.value });\n};\nexport const saveSettings = settings => async (dispatch, getState) => {\n  const userId = getState().user.googleId;\n  const {\n    data\n  } = await journals.put(`/settings/${userId}`, settings);\n  dispatch({\n    type: SAVE_SETTINGS,\n    payload: data.value\n  });\n};","map":{"version":3,"sources":["/home/manjam/Portfolio/journal/src/actions/index.js"],"names":["CREATE_JOURNAL","GET_JOURNAL","GET_JOURNALS","DELETE_JOURNAL","UPDATE_JOURNAL","SIGN_IN","SIGN_OUT","TOGGLE_DARKMODE","GET_SETTINGS","SAVE_SETTINGS","history","journals","axios","signIn","userInformation","dispatch","result","get","console","log","err","type","payload","signOut","createJournal","formInput","getState","userId","user","googleId","date","Date","toLocaleString","data","post","entries","push","getJournals","getJournal","journalId","deleteJournal","delete","updateJournal","journal","patch","value","toggleDarkMode","mode","getSettings","saveSettings","settings","put"],"mappings":"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","sourcesContent":["import {\n\tCREATE_JOURNAL,\n\tGET_JOURNAL,\n\tGET_JOURNALS,\n\tDELETE_JOURNAL,\n\tUPDATE_JOURNAL,\n\tSIGN_IN,\n\tSIGN_OUT,\n\tTOGGLE_DARKMODE,\n\tGET_SETTINGS,\n\tSAVE_SETTINGS\n} from './types';\nimport history from '../history';\nimport journals from '@apis/journals';\nimport axios from 'axios';\n\nexport const signIn = (userInformation) => async (dispatch) => {\n\ttry {\n\t\tconst result = await axios.get(\n\t\t\t'https://oauth2.googleapis.com/tokeninfo?id_token=XYZ123'\n\t\t);\n\t\tconsole.log(result);\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n\tdispatch({ type: SIGN_IN, payload: userInformation });\n};\n\nexport const signOut = () => {\n\treturn { type: SIGN_OUT };\n};\n\nexport const createJournal = (formInput) => async (dispatch, getState) => {\n\tconst userId = getState().user.googleId;\n\tconst date = new Date().toLocaleString();\n\tconst { data } = await journals.post('/journals', {\n\t\t...formInput,\n\t\tuserId,\n\t\tdate,\n\t\tentries : []\n\t});\n\tdispatch({ type: CREATE_JOURNAL, payload: data });\n\thistory.push('/');\n};\n\nexport const getJournals = () => async (dispatch) => {\n\tconst { data } = await journals.get('/journals');\n\tconsole.log(data);\n\tdispatch({ type: GET_JOURNALS, payload: data });\n};\n\nexport const getJournal = (journalId) => async (dispatch) => {\n\tconst { data } = await journals.get(`/journals/${journalId}`);\n\tdispatch({ type: GET_JOURNAL, payload: data });\n};\n\nexport const deleteJournal = (journalId) => async (dispatch) => {\n\tawait journals.delete(`/journals/${journalId}`);\n\tdispatch({ type: DELETE_JOURNAL, payload: journalId });\n\thistory.push('/');\n};\n\nexport const updateJournal = (journalId, journal) => async (dispatch) => {\n\tconsole.log('values', journal);\n\tconst { data } = await journals.patch(`/journals/${journalId}`, journal);\n\tconsole.log('data: ', data);\n\tdispatch({ type: UPDATE_JOURNAL, payload: data.value });\n\thistory.push(`/journals/${journalId}`);\n};\n\nexport const toggleDarkMode = (mode) => {\n\treturn { type: TOGGLE_DARKMODE, payload: mode };\n};\n\nexport const getSettings = () => async (dispatch, getState) => {\n\t// const userId = getState().user.googleId;\n\t// const { data } = await journals.get(`/settings/${userId}`);\n\t// dispatch({ type: GET_SETTINGS, payload: data.value });\n};\n\nexport const saveSettings = (settings) => async (dispatch, getState) => {\n\tconst userId = getState().user.googleId;\n\tconst { data } = await journals.put(`/settings/${userId}`, settings);\n\tdispatch({ type: SAVE_SETTINGS, payload: data.value });\n};\n"]},"metadata":{},"sourceType":"module"}