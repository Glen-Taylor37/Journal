{"ast":null,"code":"import _regeneratorRuntime from \"/home/manjam/Portfolio/journal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/home/manjam/Portfolio/journal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"/home/manjam/Portfolio/journal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { CREATE_JOURNAL, GET_JOURNAL, GET_JOURNALS, DELETE_JOURNAL, UPDATE_JOURNAL, SIGN_IN, SIGN_OUT, SELECT_JOURNAL } from './types';\nimport history from '../history';\nimport journals from '../apis/journals';\nexport var signIn = function signIn(basicProfile) {\n  return {\n    type: SIGN_IN,\n    payload: basicProfile\n  };\n};\nexport var signOut = function signOut() {\n  return {\n    type: SIGN_OUT\n  };\n};\nexport var createJournal = function createJournal(formInput) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch, getState) {\n      var userId, date, _yield$journals$post, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              userId = getState().user.googleId;\n              date = new Date().toLocaleString();\n              _context.next = 4;\n              return journals.post('/journals', _objectSpread({}, formInput, {\n                userId: userId,\n                date: date,\n                entries: []\n              }));\n\n            case 4:\n              _yield$journals$post = _context.sent;\n              data = _yield$journals$post.data;\n              dispatch({\n                type: CREATE_JOURNAL,\n                payload: data\n              });\n              history.push('/');\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var getJournals = function getJournals() {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch) {\n      var _yield$journals$get, data;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return journals.get('/journals');\n\n            case 2:\n              _yield$journals$get = _context2.sent;\n              data = _yield$journals$get.data;\n              console.log(data);\n              dispatch({\n                type: GET_JOURNALS,\n                payload: data\n              });\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x3) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nexport var getJournal = function getJournal(journalId) {\n  return /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch) {\n      var _yield$journals$get2, data;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return journals.get(\"/journals/\".concat(journalId));\n\n            case 2:\n              _yield$journals$get2 = _context3.sent;\n              data = _yield$journals$get2.data;\n              dispatch({\n                type: GET_JOURNAL,\n                payload: data\n              });\n\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x4) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n};\nexport var deleteJournal = function deleteJournal(journalId) {\n  return /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return journals.delete(\"/journals/\".concat(journalId));\n\n            case 2:\n              dispatch({\n                type: DELETE_JOURNAL,\n                payload: journalId\n              });\n              history.push('/');\n\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function (_x5) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n};\nexport var updateJournal = function updateJournal(journalId, journal) {\n  return /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch) {\n      var _yield$journals$put, data;\n\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              console.log('values', journal);\n              _context5.next = 3;\n              return journals.put(\"/journals/\".concat(journalId), journal);\n\n            case 3:\n              _yield$journals$put = _context5.sent;\n              data = _yield$journals$put.data;\n              console.log('data: ', data);\n              dispatch({\n                type: UPDATE_JOURNAL,\n                payload: data.value\n              });\n              history.push(\"/journals/\".concat(journalId));\n\n            case 8:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function (_x6) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"sources":["/home/manjam/Portfolio/journal/src/actions/index.js"],"names":["CREATE_JOURNAL","GET_JOURNAL","GET_JOURNALS","DELETE_JOURNAL","UPDATE_JOURNAL","SIGN_IN","SIGN_OUT","SELECT_JOURNAL","history","journals","signIn","basicProfile","type","payload","signOut","createJournal","formInput","dispatch","getState","userId","user","googleId","date","Date","toLocaleString","post","entries","data","push","getJournals","get","console","log","getJournal","journalId","deleteJournal","delete","updateJournal","journal","put","value"],"mappings":"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","sourcesContent":["import {\n\tCREATE_JOURNAL,\n\tGET_JOURNAL,\n\tGET_JOURNALS,\n\tDELETE_JOURNAL,\n\tUPDATE_JOURNAL,\n\tSIGN_IN,\n\tSIGN_OUT,\n\tSELECT_JOURNAL\n} from './types';\nimport history from '../history';\nimport journals from '../apis/journals';\n\nexport const signIn = (basicProfile) => {\n\treturn { type: SIGN_IN, payload: basicProfile };\n};\n\nexport const signOut = () => {\n\treturn { type: SIGN_OUT };\n};\n\nexport const createJournal = (formInput) => async (dispatch, getState) => {\n\tconst userId = getState().user.googleId;\n\tconst date = new Date().toLocaleString();\n\tconst { data } = await journals.post('/journals', {\n\t\t...formInput,\n\t\tuserId,\n\t\tdate,\n\t\tentries : []\n\t});\n\tdispatch({ type: CREATE_JOURNAL, payload: data });\n\thistory.push('/');\n};\n\nexport const getJournals = () => async (dispatch) => {\n\tconst { data } = await journals.get('/journals');\n\tconsole.log(data);\n\tdispatch({ type: GET_JOURNALS, payload: data });\n};\n\nexport const getJournal = (journalId) => async (dispatch) => {\n\tconst { data } = await journals.get(`/journals/${journalId}`);\n\tdispatch({ type: GET_JOURNAL, payload: data });\n};\n\nexport const deleteJournal = (journalId) => async (dispatch) => {\n\tawait journals.delete(`/journals/${journalId}`);\n\tdispatch({ type: DELETE_JOURNAL, payload: journalId });\n\thistory.push('/');\n};\n\nexport const updateJournal = (journalId, journal) => async (dispatch) => {\n\tconsole.log('values', journal);\n\tconst { data } = await journals.put(`/journals/${journalId}`, journal);\n\tconsole.log('data: ', data);\n\tdispatch({ type: UPDATE_JOURNAL, payload: data.value });\n\thistory.push(`/journals/${journalId}`);\n};\n"]},"metadata":{},"sourceType":"module"}