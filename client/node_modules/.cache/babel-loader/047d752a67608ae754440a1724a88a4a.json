{"ast":null,"code":"import _regeneratorRuntime from \"/home/manjam/Portfolio/journal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/manjam/Portfolio/journal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { CREATE_JOURNAL, SIGN_IN, SIGN_OUT } from './types';\nimport history from '../history';\nimport journals from '../apis/journals';\nexport var signIn = function signIn(basicProfile) {\n  return {\n    type: SIGN_IN,\n    payload: basicProfile\n  };\n};\nexport var signOut = function signOut() {\n  return {\n    type: SIGN_OUT\n  };\n};\nexport var createStream = function createStream(formInput) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch, getState) {\n      var userId, _yield$journals$post, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              userId = getState().auth.googleId;\n              _context.next = 3;\n              return journals.post('/journals', {\n                formInput: formInput,\n                userId: userId\n              });\n\n            case 3:\n              _yield$journals$post = _context.sent;\n              data = _yield$journals$post.data;\n              dispatch({\n                type: CREATE_JOURNAL,\n                payload: data\n              });\n              history.push('/');\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"sources":["/home/manjam/Portfolio/journal/src/actions/index.js"],"names":["CREATE_JOURNAL","SIGN_IN","SIGN_OUT","history","journals","signIn","basicProfile","type","payload","signOut","createStream","formInput","dispatch","getState","userId","auth","googleId","post","data","push"],"mappings":";;AAAA,SAASA,cAAT,EAAyBC,OAAzB,EAAkCC,QAAlC,QAAkD,SAAlD;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,QAAP,MAAqB,kBAArB;AAEA,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,YAAD,EAAkB;AACvC,SAAO;AAAEC,IAAAA,IAAI,EAAEN,OAAR;AAAiBO,IAAAA,OAAO,EAAEF;AAA1B,GAAP;AACA,CAFM;AAIP,OAAO,IAAMG,OAAO,GAAG,SAAVA,OAAU,GAAM;AAC5B,SAAO;AAAEF,IAAAA,IAAI,EAAEL;AAAR,GAAP;AACA,CAFM;AAIP,OAAO,IAAMQ,YAAY,GAAG,SAAfA,YAAe,CAACC,SAAD;AAAA;AAAA,wEAAe,iBAAOC,QAAP,EAAiBC,QAAjB;AAAA;;AAAA;AAAA;AAAA;AAAA;AACpCC,cAAAA,MADoC,GAC3BD,QAAQ,GAAGE,IAAX,CAAgBC,QADW;AAAA;AAAA,qBAEnBZ,QAAQ,CAACa,IAAT,CAAc,WAAd,EAA2B;AAAEN,gBAAAA,SAAS,EAATA,SAAF;AAAaG,gBAAAA,MAAM,EAANA;AAAb,eAA3B,CAFmB;;AAAA;AAAA;AAElCI,cAAAA,IAFkC,wBAElCA,IAFkC;AAG1CN,cAAAA,QAAQ,CAAC;AAAEL,gBAAAA,IAAI,EAAEP,cAAR;AAAwBQ,gBAAAA,OAAO,EAAEU;AAAjC,eAAD,CAAR;AACAf,cAAAA,OAAO,CAACgB,IAAR,CAAa,GAAb;;AAJ0C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAf;;AAAA;AAAA;AAAA;AAAA;AAAA,CAArB","sourcesContent":["import { CREATE_JOURNAL, SIGN_IN, SIGN_OUT } from './types';\nimport history from '../history';\nimport journals from '../apis/journals';\n\nexport const signIn = (basicProfile) => {\n\treturn { type: SIGN_IN, payload: basicProfile };\n};\n\nexport const signOut = () => {\n\treturn { type: SIGN_OUT };\n};\n\nexport const createStream = (formInput) => async (dispatch, getState) => {\n\tconst userId = getState().auth.googleId;\n\tconst { data } = await journals.post('/journals', { formInput, userId });\n\tdispatch({ type: CREATE_JOURNAL, payload: data });\n\thistory.push('/');\n};\n"]},"metadata":{},"sourceType":"module"}