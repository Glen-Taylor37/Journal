{"ast":null,"code":"import _regeneratorRuntime from \"/home/manjam/Portfolio/journal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/home/manjam/Portfolio/journal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"/home/manjam/Portfolio/journal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { CREATE_JOURNAL, GET_JOURNALS, SIGN_IN, SIGN_OUT } from './types';\nimport history from '../history';\nimport journals from '../apis/journals';\nexport var signIn = function signIn(basicProfile) {\n  return {\n    type: SIGN_IN,\n    payload: basicProfile\n  };\n};\nexport var signOut = function signOut() {\n  return {\n    type: SIGN_OUT\n  };\n};\nexport var createJournal = function createJournal(formInput) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch, getState) {\n      var userId, date, _yield$journals$post, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              userId = getState().user.googleId;\n              date = new Date().toLocaleTimeString();\n              _context.next = 4;\n              return journals.post('/journals', _objectSpread({}, formInput, {\n                userId: userId,\n                date: date\n              }));\n\n            case 4:\n              _yield$journals$post = _context.sent;\n              data = _yield$journals$post.data;\n              dispatch({\n                type: CREATE_JOURNAL,\n                payload: data\n              });\n              history.push('/');\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var getJournals = function getJournals() {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch) {\n      var _yield$journals$get, data;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return journals.get('/journals');\n\n            case 2:\n              _yield$journals$get = _context2.sent;\n              data = _yield$journals$get.data;\n              console.log(data);\n              dispatch({\n                type: GET_JOURNALS,\n                payload: data\n              });\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x3) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"sources":["/home/manjam/Portfolio/journal/src/actions/index.js"],"names":["CREATE_JOURNAL","GET_JOURNALS","SIGN_IN","SIGN_OUT","history","journals","signIn","basicProfile","type","payload","signOut","createJournal","formInput","dispatch","getState","userId","user","googleId","date","Date","toLocaleTimeString","post","data","push","getJournals","get","console","log"],"mappings":";;;AAAA,SAASA,cAAT,EAAyBC,YAAzB,EAAuCC,OAAvC,EAAgDC,QAAhD,QAAgE,SAAhE;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,QAAP,MAAqB,kBAArB;AAEA,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,YAAD,EAAkB;AACvC,SAAO;AAAEC,IAAAA,IAAI,EAAEN,OAAR;AAAiBO,IAAAA,OAAO,EAAEF;AAA1B,GAAP;AACA,CAFM;AAIP,OAAO,IAAMG,OAAO,GAAG,SAAVA,OAAU,GAAM;AAC5B,SAAO;AAAEF,IAAAA,IAAI,EAAEL;AAAR,GAAP;AACA,CAFM;AAIP,OAAO,IAAMQ,aAAa,GAAG,SAAhBA,aAAgB,CAACC,SAAD;AAAA;AAAA,wEAAe,iBAAOC,QAAP,EAAiBC,QAAjB;AAAA;;AAAA;AAAA;AAAA;AAAA;AACrCC,cAAAA,MADqC,GAC5BD,QAAQ,GAAGE,IAAX,CAAgBC,QADY;AAErCC,cAAAA,IAFqC,GAE9B,IAAIC,IAAJ,GAAWC,kBAAX,EAF8B;AAAA;AAAA,qBAGpBf,QAAQ,CAACgB,IAAT,CAAc,WAAd,oBACnBT,SADmB;AAEtBG,gBAAAA,MAAM,EAANA,MAFsB;AAGtBG,gBAAAA,IAAI,EAAJA;AAHsB,iBAHoB;;AAAA;AAAA;AAGnCI,cAAAA,IAHmC,wBAGnCA,IAHmC;AAQ3CT,cAAAA,QAAQ,CAAC;AAAEL,gBAAAA,IAAI,EAAER,cAAR;AAAwBS,gBAAAA,OAAO,EAAEa;AAAjC,eAAD,CAAR;AACAlB,cAAAA,OAAO,CAACmB,IAAR,CAAa,GAAb;;AAT2C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAf;;AAAA;AAAA;AAAA;AAAA;AAAA,CAAtB;AAYP,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc;AAAA;AAAA,yEAAM,kBAAOX,QAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACTR,QAAQ,CAACoB,GAAT,CAAa,WAAb,CADS;;AAAA;AAAA;AACxBH,cAAAA,IADwB,uBACxBA,IADwB;AAEhCI,cAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AACAT,cAAAA,QAAQ,CAAC;AAAEL,gBAAAA,IAAI,EAAEP,YAAR;AAAsBQ,gBAAAA,OAAO,EAAEa;AAA/B,eAAD,CAAR;;AAHgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAN;;AAAA;AAAA;AAAA;AAAA;AAAA,CAApB","sourcesContent":["import { CREATE_JOURNAL, GET_JOURNALS, SIGN_IN, SIGN_OUT } from './types';\nimport history from '../history';\nimport journals from '../apis/journals';\n\nexport const signIn = (basicProfile) => {\n\treturn { type: SIGN_IN, payload: basicProfile };\n};\n\nexport const signOut = () => {\n\treturn { type: SIGN_OUT };\n};\n\nexport const createJournal = (formInput) => async (dispatch, getState) => {\n\tconst userId = getState().user.googleId;\n\tconst date = new Date().toLocaleTimeString();\n\tconst { data } = await journals.post('/journals', {\n\t\t...formInput,\n\t\tuserId,\n\t\tdate\n\t});\n\tdispatch({ type: CREATE_JOURNAL, payload: data });\n\thistory.push('/');\n};\n\nexport const getJournals = () => async (dispatch) => {\n\tconst { data } = await journals.get('/journals');\n\tconsole.log(data);\n\tdispatch({ type: GET_JOURNALS, payload: data });\n};\n"]},"metadata":{},"sourceType":"module"}