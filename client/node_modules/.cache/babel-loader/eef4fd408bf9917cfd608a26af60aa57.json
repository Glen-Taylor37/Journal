{"ast":null,"code":"import { CREATE_JOURNAL, GET_JOURNAL, GET_JOURNALS, DELETE_JOURNAL, UPDATE_JOURNAL, SIGN_IN, SIGN_OUT, TOGGLE_DARKMODE, GET_SETTINGS, SAVE_SETTINGS } from './types';\nimport history from '../history';\nimport journals from '../apis/journals';\nexport const signIn = basicProfile => {\n  return {\n    type: SIGN_IN,\n    payload: basicProfile\n  };\n};\nexport const signOut = () => {\n  return {\n    type: SIGN_OUT\n  };\n};\nexport const createJournal = formInput => async (dispatch, getState) => {\n  const userId = getState().user.googleId;\n  const date = new Date().toLocaleString();\n  const {\n    data\n  } = await journals.post('/journals', { ...formInput,\n    userId,\n    date,\n    entries: []\n  });\n  dispatch({\n    type: CREATE_JOURNAL,\n    payload: data\n  });\n  history.push('/');\n};\nexport const getJournals = () => async dispatch => {\n  const {\n    data\n  } = await journals.get('/journals');\n  console.log(data);\n  dispatch({\n    type: GET_JOURNALS,\n    payload: data\n  });\n};\nexport const getJournal = journalId => async dispatch => {\n  const {\n    data\n  } = await journals.get(`/journals/${journalId}`);\n  dispatch({\n    type: GET_JOURNAL,\n    payload: data\n  });\n};\nexport const deleteJournal = journalId => async dispatch => {\n  await journals.delete(`/journals/${journalId}`);\n  dispatch({\n    type: DELETE_JOURNAL,\n    payload: journalId\n  });\n  history.push('/');\n};\nexport const updateJournal = (journalId, journal) => async dispatch => {\n  console.log('values', journal);\n  const {\n    data\n  } = await journals.patch(`/journals/${journalId}`, journal);\n  console.log('data: ', data);\n  dispatch({\n    type: UPDATE_JOURNAL,\n    payload: data.value\n  });\n  history.push(`/journals/${journalId}`);\n};\nexport const toggleDarkMode = mode => {\n  return {\n    type: TOGGLE_DARKMODE,\n    payload: mode\n  };\n};\nexport const getSettings = userId => async dispatch => {\n  const {\n    data\n  } = await journals.get(`/settings/${userId}`);\n  dispatch({\n    type: GET_SETTINGS,\n    payload: data.value\n  });\n};\nexport const saveSettings = (userId, settings) => async dispatch => {\n  const {\n    data\n  } = await journals.put(`/settings/${userId}`, settings);\n  dispatch({\n    type: SAVE_SETTINGS,\n    payload: data.value\n  });\n};","map":{"version":3,"sources":["/home/manjam/Portfolio/journal/src/actions/index.js"],"names":["CREATE_JOURNAL","GET_JOURNAL","GET_JOURNALS","DELETE_JOURNAL","UPDATE_JOURNAL","SIGN_IN","SIGN_OUT","TOGGLE_DARKMODE","GET_SETTINGS","SAVE_SETTINGS","history","journals","signIn","basicProfile","type","payload","signOut","createJournal","formInput","dispatch","getState","userId","user","googleId","date","Date","toLocaleString","data","post","entries","push","getJournals","get","console","log","getJournal","journalId","deleteJournal","delete","updateJournal","journal","patch","value","toggleDarkMode","mode","getSettings","saveSettings","settings","put"],"mappings":"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","sourcesContent":["import {\n\tCREATE_JOURNAL,\n\tGET_JOURNAL,\n\tGET_JOURNALS,\n\tDELETE_JOURNAL,\n\tUPDATE_JOURNAL,\n\tSIGN_IN,\n\tSIGN_OUT,\n\tTOGGLE_DARKMODE,\n\tGET_SETTINGS,\n\tSAVE_SETTINGS\n} from './types';\nimport history from '../history';\nimport journals from '../apis/journals';\n\nexport const signIn = (basicProfile) => {\n\treturn { type: SIGN_IN, payload: basicProfile };\n};\n\nexport const signOut = () => {\n\treturn { type: SIGN_OUT };\n};\n\nexport const createJournal = (formInput) => async (dispatch, getState) => {\n\tconst userId = getState().user.googleId;\n\tconst date = new Date().toLocaleString();\n\tconst { data } = await journals.post('/journals', {\n\t\t...formInput,\n\t\tuserId,\n\t\tdate,\n\t\tentries : []\n\t});\n\tdispatch({ type: CREATE_JOURNAL, payload: data });\n\thistory.push('/');\n};\n\nexport const getJournals = () => async (dispatch) => {\n\tconst { data } = await journals.get('/journals');\n\tconsole.log(data);\n\tdispatch({ type: GET_JOURNALS, payload: data });\n};\n\nexport const getJournal = (journalId) => async (dispatch) => {\n\tconst { data } = await journals.get(`/journals/${journalId}`);\n\tdispatch({ type: GET_JOURNAL, payload: data });\n};\n\nexport const deleteJournal = (journalId) => async (dispatch) => {\n\tawait journals.delete(`/journals/${journalId}`);\n\tdispatch({ type: DELETE_JOURNAL, payload: journalId });\n\thistory.push('/');\n};\n\nexport const updateJournal = (journalId, journal) => async (dispatch) => {\n\tconsole.log('values', journal);\n\tconst { data } = await journals.patch(`/journals/${journalId}`, journal);\n\tconsole.log('data: ', data);\n\tdispatch({ type: UPDATE_JOURNAL, payload: data.value });\n\thistory.push(`/journals/${journalId}`);\n};\n\nexport const toggleDarkMode = (mode) => {\n\treturn { type: TOGGLE_DARKMODE, payload: mode };\n};\n\nexport const getSettings = (userId) => async (dispatch) => {\n\tconst { data } = await journals.get(`/settings/${userId}`);\n\tdispatch({ type: GET_SETTINGS, payload: data.value });\n};\n\nexport const saveSettings = (userId, settings) => async (dispatch) => {\n\tconst { data } = await journals.put(`/settings/${userId}`, settings);\n\tdispatch({ type: SAVE_SETTINGS, payload: data.value });\n};\n"]},"metadata":{},"sourceType":"module"}