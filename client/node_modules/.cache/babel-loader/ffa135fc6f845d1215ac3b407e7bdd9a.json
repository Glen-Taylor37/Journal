{"ast":null,"code":"import { CREATE_JOURNAL, GET_JOURNAL, GET_JOURNALS, DELETE_JOURNAL, UPDATE_JOURNAL, SIGN_IN, SIGN_OUT, TOGGLE_DARKMODE, GET_SETTINGS, SAVE_SETTINGS, SIGN_UP } from './types';\nimport history from '../history';\nimport journals from '@apis/journals';\nimport axios from 'axios';\nexport const signUp = formData => async dispatch => {\n  try {} catch (err) {\n    console.log(err);\n  }\n\n  dispatch({\n    type: SIGN_UP,\n    payload: formData\n  });\n};\nexport const signIn = userInformation => async dispatch => {\n  try {\n    await journals.post('/user/tokensignin', {\n      idToken: userInformation.idToken\n    });\n  } catch (err) {\n    console.log(err);\n  }\n\n  dispatch({\n    type: SIGN_IN,\n    payload: userInformation\n  });\n};\nexport const signOut = () => {\n  return {\n    type: SIGN_OUT\n  };\n};\nexport const createJournal = formInput => async (dispatch, getState) => {\n  const userId = getState().user.googleId;\n  const date = new Date().toLocaleString();\n  const {\n    data\n  } = await journals.post('/journals', { ...formInput,\n    userId,\n    date,\n    entries: []\n  });\n  dispatch({\n    type: CREATE_JOURNAL,\n    payload: data\n  });\n  history.push('/');\n};\nexport const getJournals = () => async dispatch => {\n  const {\n    data\n  } = await journals.get('/journals');\n  console.log(data);\n  dispatch({\n    type: GET_JOURNALS,\n    payload: data\n  });\n};\nexport const getJournal = journalId => async dispatch => {\n  const {\n    data\n  } = await journals.get(`/journals/${journalId}`);\n  dispatch({\n    type: GET_JOURNAL,\n    payload: data\n  });\n};\nexport const deleteJournal = journalId => async dispatch => {\n  await journals.delete(`/journals/${journalId}`);\n  dispatch({\n    type: DELETE_JOURNAL,\n    payload: journalId\n  });\n  history.push('/');\n};\nexport const updateJournal = (journalId, journal) => async dispatch => {\n  console.log('values', journal);\n  const {\n    data\n  } = await journals.patch(`/journals/${journalId}`, journal);\n  console.log('data: ', data);\n  dispatch({\n    type: UPDATE_JOURNAL,\n    payload: data.value\n  });\n  history.push(`/journals/${journalId}`);\n};\nexport const toggleDarkMode = mode => {\n  return {\n    type: TOGGLE_DARKMODE,\n    payload: mode\n  };\n};\nexport const getSettings = () => async (dispatch, getState) => {// const userId = getState().user.googleId;\n  // const { data } = await journals.get(`/settings/${userId}`);\n  // dispatch({ type: GET_SETTINGS, payload: data.value });\n};\nexport const saveSettings = settings => async (dispatch, getState) => {\n  const userId = getState().user.googleId;\n  const {\n    data\n  } = await journals.put(`/settings/${userId}`, settings);\n  dispatch({\n    type: SAVE_SETTINGS,\n    payload: data.value\n  });\n};","map":{"version":3,"sources":["/home/manjam/Portfolio/journal/client/src/actions/index.js"],"names":["CREATE_JOURNAL","GET_JOURNAL","GET_JOURNALS","DELETE_JOURNAL","UPDATE_JOURNAL","SIGN_IN","SIGN_OUT","TOGGLE_DARKMODE","GET_SETTINGS","SAVE_SETTINGS","SIGN_UP","history","journals","axios","signUp","formData","dispatch","err","console","log","type","payload","signIn","userInformation","post","idToken","signOut","createJournal","formInput","getState","userId","user","googleId","date","Date","toLocaleString","data","entries","push","getJournals","get","getJournal","journalId","deleteJournal","delete","updateJournal","journal","patch","value","toggleDarkMode","mode","getSettings","saveSettings","settings","put"],"mappings":"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","sourcesContent":["import {\n\tCREATE_JOURNAL,\n\tGET_JOURNAL,\n\tGET_JOURNALS,\n\tDELETE_JOURNAL,\n\tUPDATE_JOURNAL,\n\tSIGN_IN,\n\tSIGN_OUT,\n\tTOGGLE_DARKMODE,\n\tGET_SETTINGS,\n\tSAVE_SETTINGS,\n\tSIGN_UP\n} from './types';\nimport history from '../history';\nimport journals from '@apis/journals';\nimport axios from 'axios';\n\nexport const signUp = (formData) => async (dispatch) => {\n\ttry {\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n\n\tdispatch({ type: SIGN_UP, payload: formData });\n};\n\nexport const signIn = (userInformation) => async (dispatch) => {\n\ttry {\n\t\tawait journals.post('/user/tokensignin', {\n\t\t\tidToken : userInformation.idToken\n\t\t});\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n\tdispatch({ type: SIGN_IN, payload: userInformation });\n};\n\nexport const signOut = () => {\n\treturn { type: SIGN_OUT };\n};\n\nexport const createJournal = (formInput) => async (dispatch, getState) => {\n\tconst userId = getState().user.googleId;\n\tconst date = new Date().toLocaleString();\n\tconst { data } = await journals.post('/journals', {\n\t\t...formInput,\n\t\tuserId,\n\t\tdate,\n\t\tentries : []\n\t});\n\tdispatch({ type: CREATE_JOURNAL, payload: data });\n\thistory.push('/');\n};\n\nexport const getJournals = () => async (dispatch) => {\n\tconst { data } = await journals.get('/journals');\n\tconsole.log(data);\n\tdispatch({ type: GET_JOURNALS, payload: data });\n};\n\nexport const getJournal = (journalId) => async (dispatch) => {\n\tconst { data } = await journals.get(`/journals/${journalId}`);\n\tdispatch({ type: GET_JOURNAL, payload: data });\n};\n\nexport const deleteJournal = (journalId) => async (dispatch) => {\n\tawait journals.delete(`/journals/${journalId}`);\n\tdispatch({ type: DELETE_JOURNAL, payload: journalId });\n\thistory.push('/');\n};\n\nexport const updateJournal = (journalId, journal) => async (dispatch) => {\n\tconsole.log('values', journal);\n\tconst { data } = await journals.patch(`/journals/${journalId}`, journal);\n\tconsole.log('data: ', data);\n\tdispatch({ type: UPDATE_JOURNAL, payload: data.value });\n\thistory.push(`/journals/${journalId}`);\n};\n\nexport const toggleDarkMode = (mode) => {\n\treturn { type: TOGGLE_DARKMODE, payload: mode };\n};\n\nexport const getSettings = () => async (dispatch, getState) => {\n\t// const userId = getState().user.googleId;\n\t// const { data } = await journals.get(`/settings/${userId}`);\n\t// dispatch({ type: GET_SETTINGS, payload: data.value });\n};\n\nexport const saveSettings = (settings) => async (dispatch, getState) => {\n\tconst userId = getState().user.googleId;\n\tconst { data } = await journals.put(`/settings/${userId}`, settings);\n\tdispatch({ type: SAVE_SETTINGS, payload: data.value });\n};\n"]},"metadata":{},"sourceType":"module"}